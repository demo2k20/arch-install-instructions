loadkeys hu
(wifi-menu; if needed)
ping google.com
timedatectl set-ntp true
timedatectl status
cfdisk (UEFI: GPT; Legacy: DOS; 512MB Efi System (UEFI ONLY); 150% of ramGB for swap, restGB Linux Filesystem)
mkfs.vfat /dev/sda1 (Only for UEFI)
mkswap /dev/sda2
swapon /dev/sda2
mkfs.ext4 /dev/sda3
mount /dev/sda3 /mnt
mkdir /mnt/boot (Only for UEFI)
mount /dev/sda1 /mnt/boot (Only for UEFI) (mount the efi partition)
pacman -Syyy reflector
reflector --verbose --latest 5 --sort rate --save /etc/pacman.d/mirrorlist
pacstrap /mnt base base-devel linux linux-firmware vim networkmanager man-db man-pages gvfs inetutils netctl e2fsprogs dosfstools intel-ucode
genfstab -U /mnt >> /mnt/etc/fstab
arch-chroot /mnt
ln -sf /usr/share/zoneinfo/Europe/Bucharest /etc/localtime
hwclock --systohc
vim /etc/locale.gen (uncomment en_US.UTF-8 UTF-8)
locale-gen
echo "LANG=en_US.UTF-8" > /etc/locale.conf
echo "KEYMAP=hu" > /etc/vconsole.conf
echo "*myhostname*" > /etc/hostname
vim /etc/hosts
127.0.0.1	localhost
::1		localhost
127.0.1.1	*myhostname*.localdomain	*myhostname*

systemctl enable NetworkManager

passwd (to setup root password)
useradd -mG wheel,users,audio,video,optical,storage,power *username*
passwd *username*
visudo (uncomment %wheel) :wq

# installing the bootloader GRUB (Legacy)!!!!!!!!!!!!
pacman -S grub
grub-install /dev/sda
grub-mkconfig -o /boot/grub/grub.cfg

# installing the bootloader GRUB (UEFI)!!!!!!!!!!!!!!
pacman -S grub efibootmgr
mkdir /boot/efi
mount /dev/sda1 /boot/efi
grub-install --target=x86_64-efi --bootloader-id=GRUB --efi-directory=/boot/efi
grub-mkconfig -o /boot/grub/grub.cfg
mkdir /boot/efi/EFI/BOOT
cp /boot/efi/EFI/GRUB/grubx64.efi /boot/efi/EFI/BOOT/BOOTX64.EFI
vim /boot/efi/startup.nsh (Write: bcf boot add 1 fs0:\EFI\GRUB\grubx64.efi "GRUB" *NEWLINE* exit)

# installing the bootloader systemd boot (UEFI)!!!!!!!!!!!
bootctl --path=/boot install

vim /boot/loader/loader.conf
default arch-*
#timeout 5

e2label /dev/sda3 "arch_os"

vim /boot/loader/entries/arch.conf
title   Arch Linux
linux   /vmlinuz-linux
initrd    /intel-ucode.img
initrd    /initramfs-linux.img
options   root=LABEL=arch_os rw (nvidia proprietary driver screen tearing fix: "nvidia-drm.modeset=1")

Alternatively, use UUID; in vim: options  root=UUID=*r! blkid of /dev/sda3* rw


exit
shutdown now ; or reboot


# Necessary packages

# X server
xorg xorg-xinit

# GPU drivers
#
# Open Source NVIDIA
xf86-video-nouveau
#
# Proprietary NVIDIA
nvidia lib32-nvidia-utils (for steam)
sudo vim /etc/X11/xorg.conf.d/10-nvidia-drm-outputclass.conf

Section "OutputClass"
    Identifier "intel"
    MatchDriver "i915"
    Driver "modesetting"
EndSection

Section "OutputClass"
    Identifier "nvidia"
    MatchDriver "nvidia-drm"
    Driver "nvidia"
    Option "AllowEmptyInitialConfiguration"
    Option "PrimaryGPU" "yes"
    ModulePath "/usr/lib/nvidia/xorg"
    ModulePath "/usr/lib/xorg/modules"
EndSection

# Generic drivers
broadcom-wl libinput

# Fonts
noto-fonts ttf-font-awesome

# Audio
pulseaudio pulseaudio-alsa pavucontrol 

# Window manager
bspwm 

# Bar
polybar-git

# Terminal Emulator
alacritty

# Browser
firefox

# Useful programs
nm-applet trash-cli acpilight htop pulsemixer imagemagick

# Showoff programs
vis lolcat sl neofetch

# Regular programs
qbittorrent-dark-git ranger zathura zathura-pdf-poppler feh rofi i3lock compton lxappearance arandr file-roller vlc

echo "exec bspwm" > ~/.xinitrc
startx

setxkbmap -model abnt2 -layout hu
localectl set-x11-keymap hu
localectl status

github.com/rolandnemes/dotfiles
